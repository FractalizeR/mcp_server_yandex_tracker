# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏–∑ recomm.md

**–î–∞—Ç–∞:** 2025-11-14
**–ü—Ä–æ–µ–∫—Ç:** yandex-tracker-mcp
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã)

---

## üìä –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### ‚úÖ **–ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

1. **–£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ–ª–∞–≥–∏ —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –≤ `tsconfig.json`**
   - –£–¥–∞–ª–µ–Ω—ã: `noImplicitAny`, `strictNullChecks`, `strictFunctionTypes`, `strictBindCallApply`, `strictPropertyInitialization`, `noImplicitThis`, `alwaysStrict`
   - –ü—Ä–∏—á–∏–Ω–∞: –í—Å–µ –æ–Ω–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ `strict: true`
   - –§–∞–π–ª: `tsconfig.json:22-29` (–±—ã–ª–æ), —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ `strict: true`

2. **`downlevelIteration: false`**
   - –ë—ã–ª–æ: `true`
   - –°—Ç–∞–ª–æ: `false`
   - –ü—Ä–∏—á–∏–Ω–∞: –ù–µ –Ω—É–∂–µ–Ω –¥–ª—è target ES2022 + Node 22
   - –ü–æ–ª—å–∑–∞: –ú–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä JS, –±—ã—Å—Ç—Ä–µ–µ runtime
   - –§–∞–π–ª: `tsconfig.json:19`

3. **–î–æ–±–∞–≤–ª–µ–Ω `types: ["node"]` –≤ –æ—Å–Ω–æ–≤–Ω–æ–π tsconfig.json**
   - –ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞: `"types": ["node"]`
   - –ü—Ä–∏—á–∏–Ω–∞: –Ø–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ DOM —Ç–∏–ø–æ–≤
   - –§–∞–π–ª: `tsconfig.json:43`

4. **–î–æ–±–∞–≤–ª–µ–Ω `types: ["node", "jest"]` –≤ tsconfig.tests.json**
   - –ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞: `"types": ["node", "jest"]`
   - –ü—Ä–∏—á–∏–Ω–∞: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ Jest –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤
   - –§–∞–π–ª: `tsconfig.tests.json:6`

5. **–û–±–Ω–æ–≤–ª—ë–Ω `engines.node` –≤ package.json**
   - –ë—ã–ª–æ: `">=16.0.0"`
   - –°—Ç–∞–ª–æ: `">=22.0.0"`
   - –ü—Ä–∏—á–∏–Ω–∞: –ü—Ä–æ–µ–∫—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ Node.js 22+
   - –§–∞–π–ª: `package.json:33`

6. **–£–¥–∞–ª—ë–Ω `skipDefaultLibCheck`**
   - –ü—Ä–∏—á–∏–Ω–∞: –î—É–±–ª–∏—Ä—É–µ—Ç `skipLibCheck`
   - –§–∞–π–ª: `tsconfig.json:40` (—É–¥–∞–ª–µ–Ω–æ)

7. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö**
   - –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–º—É –≤–∏–¥—É —Å `.js`
   - –§–∞–π–ª—ã: `src/*/index.ts`
   - –ü—Ä–∏—á–∏–Ω–∞: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–º–µ—à–∞–Ω–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ (.js / –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)

8. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤ —Ç–µ—Å—Ç–∞—Ö**
   - –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `src/` —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç `.js`
   - –§–∞–π–ª—ã: `tests/**/*.test.ts`
   - –ü—Ä–∏—á–∏–Ω–∞: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `moduleNameMapper` –≤ Jest

---

### ‚ùå **–ù–ï –ø—Ä–∏–º–µ–Ω–µ–Ω–æ (–æ—Ç–ª–æ–∂–µ–Ω–æ)**

1. **`module: "NodeNext"` + `moduleResolution: "NodeNext"`**
   - **–°—Ç–∞—Ç—É—Å:** –û–¢–õ–û–ñ–ï–ù–û
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Jest + ts-jest + ESM
   - **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** –°–º. `docs/typescript-nodenext-investigation.md`
   - **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `module: "ES2022"` + `moduleResolution: "node"` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

2. **`importHelpers` + `noEmitHelpers`**
   - **–°—Ç–∞—Ç—É—Å:** –ù–ï –ü–†–ò–ú–ï–ù–ï–ù–û
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –Ω–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω

3. **`useDefineForClassFields: false`**
   - **–°—Ç–∞—Ç—É—Å:** –ù–ï –ü–†–ò–ú–ï–ù–ï–ù–û
   - **–ü—Ä–∏—á–∏–Ω–∞:** Workaround –¥–ª—è edge case, –ø—Ä–æ–±–ª–µ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

---

## ‚ö†Ô∏è **–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**

### –£–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã (7 –∏–∑ 14)

**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–±–ª–µ–º–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∞ –î–û –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ Initial commit)

**–£–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã:**
- `infrastructure/logger.test.ts`
- `infrastructure/config.test.ts`
- `infrastructure/http/client/http-client.test.ts`
- `infrastructure/http/error/error-mapper.test.ts`
- `infrastructure/http/retry/retry-handler.test.ts`
- `infrastructure/http/retry/exponential-backoff.strategy.test.ts`
- `domain/operations/issue/get-issues.operation.test.ts`

**–ü—Ä–æ—à–µ–¥—à–∏–µ —Ç–µ—Å—Ç—ã (7):**
- `infrastructure/async/parallel-executor.test.ts`
- `infrastructure/cache/no-op-cache.test.ts`
- `domain/utils/entity-cache-key.test.ts`
- `domain/utils/response-field-filter.test.ts`
- `domain/operations/base-operation.test.ts`
- `mcp/tools/base-tool.test.ts`
- `mcp/tools/get-issues.tool.test.ts`

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
Jest + ESM + TypeScript + `moduleNameMapper` ‚Äî –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã.

**–û—à–∏–±–∫–∞:**
```
Configuration error:
Could not locate module ../../../../src/infrastructure/logger.js mapped as:
$1.
```

**–ü–æ–ø—ã—Ç–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. ‚ùå Custom Jest resolver
2. ‚ùå –ü–∞–∫–µ—Ç `ts-jest-resolver`
3. ‚ùå –†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ `moduleNameMapper`
4. ‚ùå –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `tsconfig` –≤ `ts-jest`

**–í—ã–≤–æ–¥:** –ü—Ä–æ–±–ª–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –¥—Ä—É–≥–æ–π test runner (Vitest).

---

## üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏**

```bash
npm run validate
```

**–°—Ç–∞—Ç—É—Å –∫–æ–º–∞–Ω–¥:**
- ‚úÖ **Lint:** –ü—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **TypeCheck:** –ü—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è **Test:** 7 passed, 7 failed (–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –±—ã–ª–∞ –î–û –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ **Build:** –ü—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üìù **–°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**

1. **`docs/typescript-nodenext-investigation.md`**
   - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã `module: "NodeNext"`
   - –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—è–º–∏
   - –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

2. **`MIGRATION-SUMMARY.md`** (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
   - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
   - –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, —á—Ç–æ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ, –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

3. **`recomm.md`** (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
   - –ò—Å—Ö–æ–¥–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ TypeScript

---

## üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ**

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —É–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã:**
   - –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã, —á—Ç–æ–±—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `index.ts` (–∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é)
   - –í–∞—Ä–∏–∞–Ω—Ç 2: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Vitest (–ª—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ESM)
   - –í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–∂–¥–∞—Ç—å—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ `ts-jest`

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (—Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º)

1. **`module: "NodeNext"`:**
   - –°–ª–µ–¥–∏—Ç—å –∑–∞: https://github.com/kulshekhar/ts-jest/issues/4081
   - –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —ç—Ç–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ `ts-jest` –¥–æ–±–∞–≤–∏—Ç –Ω–∞—Ç–∏–≤–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ test runners:**
   - [Vitest](https://vitest.dev/) ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ESM + TypeScript
   - [Node.js Test Runner](https://nodejs.org/api/test.html) ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ Node 22

---

## üìä **–ò—Ç–æ–≥–æ**

- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:** –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –£–ª—É—á—à–µ–Ω–∞
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ù–µ–º–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∞ (downlevelIteration)
- ‚úÖ **–Ø–≤–Ω–æ—Å—Ç—å –∫–æ–¥–∞:** –£–ª—É—á—à–µ–Ω–∞ (types: ["node"])
- ‚ö†Ô∏è **–¢–µ—Å—Ç—ã:** 50% –ø—Ä–æ—Ö–æ–¥—è—Ç (–ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚ùå **NodeNext:** –û—Ç–ª–æ–∂–µ–Ω–æ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 8/10 (–≤—Å–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ)
