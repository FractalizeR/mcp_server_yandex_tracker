# External Dependencies Analysis

**–î–∞—Ç–∞:** 2025-11-21
**–ê–≤—Ç–æ—Ä:** Claude Code

---

## üéØ –¶–µ–ª—å

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—É–º–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–∞–∂–¥–æ–º –ø–∞–∫–µ—Ç–µ monorepo.

---

## üìä –û–±–∑–æ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Infrastructure Package

**Production Dependencies:** 5
```json
{
  "axios": "^1.13.2",           // HTTP client
  "p-limit": "^7.2.0",          // Concurrency control
  "pino": "^10.1.0",            // Logger
  "pino-pretty": "^13.1.2",     // Logger formatting
  "rotating-file-stream": "^3.2.7"  // Log rotation
}
```

**Dev Dependencies:** 6

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ EXCELLENT
- –ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã)
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–ø—Ä–∞–≤–¥–∞–Ω—ã
- –ù–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ vs —Ä–∞–∑–º–µ—Ä–∞

---

### Core Package

**Production Dependencies:** 5 (–≤–∫–ª—é—á–∞—è 1 internal)
```json
{
  "@mcp-framework/infrastructure": "*",  // Internal dependency
  "@modelcontextprotocol/sdk": "^1.22.0",  // MCP protocol
  "pino": "^10.1.0",                     // Logger
  "zod": "^4.1.12",                      // Schema validation
  "zod-to-json-schema": "^3.24.6"        // Zod to JSON Schema
}
```

**Dev Dependencies:** 7

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ GOOD
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –ø–∞–∫–µ—Ç–∞
- MCP SDK –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è BaseTool
- Zod –¥–ª—è type-safe schemas
- –û–¥–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: pino (—É–∂–µ –≤ infrastructure)

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- ‚ö†Ô∏è `pino` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è (–µ—Å—Ç—å –≤ infrastructure –∏ core)

---

### Search Package

**Production Dependencies:** 2 (–æ–±–∞ internal)
```json
{
  "@mcp-framework/core": "*",
  "@mcp-framework/infrastructure": "*"
}
```

**Dev Dependencies:** 6

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ EXCELLENT
- –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ù–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (compile-time indexing)
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥

---

### Yandex-Tracker Package

**Production Dependencies:** 14 (–≤–∫–ª—é—á–∞—è 3 internal)
```json
{
  // Internal dependencies
  "@mcp-framework/core": "*",
  "@mcp-framework/infrastructure": "*",
  "@mcp-framework/search": "*",

  // Framework/Protocol
  "@modelcontextprotocol/sdk": "^1.22.0",

  // HTTP client
  "axios": "^1.7.9",

  // DI container
  "inversify": "^7.10.4",

  // CLI utilities
  "chalk": "^5.4.1",
  "commander": "^14.0.2",
  "inquirer": "^13.0.1",
  "ora": "^9.0.0",

  // Utilities
  "@iarna/toml": "^2.2.5",
  "mime-types": "^3.0.1",
  "pino": "^10.1.0",
  "zod": "^4.1.12"
}
```

**Dev Dependencies:** 12

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ GOOD
- –î–æ–º–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–ø—Ä–∞–≤–¥–∞–Ω—ã (CLI tools, DI, etc)
- –•–æ—Ä–æ—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ concerns

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è `axios` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è (^1.7.9 vs ^1.13.2 –≤ infrastructure)
- ‚ö†Ô∏è `pino` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è (–µ—Å—Ç—å –≤ infrastructure, core, yandex-tracker)
- ‚ö†Ô∏è `zod` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è (–µ—Å—Ç—å –≤ core –∏ yandex-tracker)

---

## üîç –ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 1. axios

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è |
|-------|--------|
| infrastructure | ^1.13.2 |
| yandex-tracker | ^1.7.9 |

**–ü—Ä–æ–±–ª–µ–º–∞:** ‚ö†Ô∏è –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- yandex-tracker –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å axios –∏–∑ infrastructure
- –£–¥–∞–ª–∏—Ç—å axios –∏–∑ dependencies yandex-tracker
- –ü–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ HttpClient –∏–∑ infrastructure

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
- –£–º–µ–Ω—å—à–∞–µ—Ç bundle size
- –ò–∑–±–µ–≥–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤–µ—Ä—Å–∏–π
- –°–ª–µ–¥—É–µ—Ç DRY –ø—Ä–∏–Ω—Ü–∏–ø—É

---

### 2. pino

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è |
|-------|--------|
| infrastructure | ^10.1.0 |
| core | ^10.1.0 |
| yandex-tracker | ^10.1.0 |

**–ü—Ä–æ–±–ª–µ–º–∞:** ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- core –∏ yandex-tracker –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Logger –∏–∑ infrastructure
- –£–¥–∞–ª–∏—Ç—å pino –∏–∑ dependencies core –∏ yandex-tracker
- –ü–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ Logger interface –∏–∑ infrastructure

**Trade-off:**
- Pros: –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- Cons: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –í—ã–¥–µ–ª–∏—Ç—å –≤ peer dependencies

---

### 3. zod

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è |
|-------|--------|
| core | ^4.1.12 |
| yandex-tracker | ^4.1.12 |

**–ü—Ä–æ–±–ª–µ–º–∞:** ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- yandex-tracker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç zod –¥–ª—è —Å–≤–æ–∏—Ö —Å—Ö–µ–º (–¥–æ–º–µ–Ω–Ω—ã—Ö)
- core –∏—Å–ø–æ–ª—å–∑—É–µ—Ç zod –¥–ª—è BaseTool schemas
- –≠—Ç–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–æ–±–∞ –ø–∞–∫–µ—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç zod)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

| –ü–∞–∫–µ—Ç | Production Deps | Dev Deps | External Deps | Internal Deps |
|-------|----------------|----------|---------------|---------------|
| infrastructure | 5 | 6 | 5 | 0 |
| core | 5 | 7 | 4 | 1 |
| search | 2 | 6 | 0 | 2 |
| yandex-tracker | 14 | 12 | 11 | 3 |
| **TOTAL** | **26** | **31** | **20** | **6** |

---

## üí° –í—ã–≤–æ–¥—ã

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. **Infrastructure –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–µ–Ω:** –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (HTTP, logging, concurrency)
2. **Search –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö deps:** Compile-time –ø–æ–¥—Ö–æ–¥ –∏–∑–±–µ–≥–∞–µ—Ç runtime –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –∏–º–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
4. **–í–µ—Ä—Å–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:** –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏

### ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **axios –≤ yandex-tracker:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è ^1.7.9 –≤–º–µ—Å—Ç–æ ^1.13.2 –∏–∑ infrastructure
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HttpClient –∏–∑ infrastructure

2. **pino –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ 3 –ø–∞–∫–µ—Ç–∞—Ö
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å peer dependencies

---

## üéØ SOLID & Best Practices Compliance

| –ü—Ä–∏–Ω—Ü–∏–ø | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---------|--------|-------------|
| DRY (Don't Repeat Yourself) | ‚ö†Ô∏è PARTIAL | axios –∏ pino –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è |
| Minimal Dependencies | ‚úÖ PASS | –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –∏–º–µ–µ—Ç –º–∏–Ω–∏–º—É–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö deps |
| Version Consistency | ‚úÖ PASS | –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è deps –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ |
| Appropriate Coupling | ‚úÖ PASS | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é |

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üü° –í–∞–∂–Ω—ã–µ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)

#### 1. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è axios
**–ü—Ä–æ–±–ª–µ–º–∞:** yandex-tracker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ—é –≤–µ—Ä—Å–∏—é axios –≤–º–µ—Å—Ç–æ HttpClient

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. –£–¥–∞–ª–∏—Ç—å `axios: "^1.7.9"` –∏–∑ yandex-tracker dependencies
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `HttpClient` –∏–∑ infrastructure
3. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - —Å–æ–∑–¥–∞—Ç—å wrapper

**Effort:** MEDIUM (~2-3 —á–∞—Å–∞)
**Impact:** MEDIUM (—É–º–µ–Ω—å—à–∞–µ—Ç bundle, —É–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

### üü¢ –£–ª—É—á—à–µ–Ω–∏—è (nice to have)

#### 2. Peer dependencies –¥–ª—è –æ–±—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
**–ü—Ä–æ–±–ª–µ–º–∞:** pino –∏ zod –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–Ω–æ—Å –≤ peerDependencies –¥–ª—è framework –ø–∞–∫–µ—Ç–æ–≤
2. –û—Å—Ç–∞–≤–∏—Ç—å –≤ dependencies —Ç–æ–ª—å–∫–æ –≤ root

**Effort:** LOW (~1 —á–∞—Å)
**Impact:** LOW (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size)

**Trade-off:** –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ vs –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å baseline

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ | –°—Ç–∞—Ç—É—Å |
|---------|------------------|-------------|--------|
| –í–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (infrastructure) | ‚â§10 | 5 | ‚úÖ PASS |
| –í–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (core) | ‚â§10 | 4 | ‚úÖ PASS |
| –í–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (search) | ‚â§5 | 0 | ‚úÖ PASS |
| –î—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | ‚â§3 | 3 (axios, pino, zod) | ‚úÖ PASS |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –≤–µ—Ä—Å–∏–π | 0 | 1 (axios) | ‚ö†Ô∏è WARN |

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [x] –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π infrastructure
- [x] –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π core
- [x] –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π search
- [x] –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π yandex-tracker
- [x] –ü–æ–∏—Å–∫ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [x] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–∏—Å–∫—É –Ω–∞—Ä—É—à–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü (—Å–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞)
