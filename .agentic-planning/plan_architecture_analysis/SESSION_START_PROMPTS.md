# –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–µ—Å—Å–∏–π

**–°—Ü–µ–Ω–∞—Ä–∏–π:** Full Refactoring (–°—Ü–µ–Ω–∞—Ä–∏–π 3)
**–†–µ—à–µ–Ω–∏—è Phase 0:**
- ‚úÖ –î–µ–ª–∞–µ–º Infrastructure extraction
- ‚úÖ –î–µ–ª–∞–µ–º YandexTrackerFacade —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–Ω—É–∂–Ω–æ —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å)
- ‚úÖ –î–µ–ª–∞–µ–º ToolRegistry refactoring
- ‚úÖ –î–µ–ª–∞–µ–º –≤—Å–µ Phase 1B, 2, 3, 4 –∑–∞–¥–∞—á–∏
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (3-4 –∞–≥–µ–Ω—Ç–∞)

**–°–¢–†–ê–¢–ï–ì–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**
1. **–°–Ω–∞—á–∞–ª–∞:** –ü–æ–ª–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤–∫–ª—é—á–∞—è Facade)
2. **–ü–æ—Ç–æ–º:** –°–æ–∑–¥–∞–Ω–∏–µ `plan_architecture_execution/` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ø–ª–∞–Ω–∞–º–∏
3. **–ù–∞–∫–æ–Ω–µ—Ü:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –ø–ª–∞–Ω–∞–º —Å 3-4 –∞–≥–µ–Ω—Ç–∞–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

---

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –≠—Ç–∞–ø 0: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ YandexTrackerFacade (–ü–ï–†–í–´–ú –î–ï–õ–û–ú)

**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** 1 –∞–≥–µ–Ω—Ç
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Facade

**–ü—Ä–æ–º–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**
```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π YandexTrackerFacade –∏ —Å–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

–§–∞–π–ª: packages/servers/yandex-tracker/src/tracker_api/facade/yandex-tracker.facade.ts
–ü—Ä–æ–±–ª–µ–º–∞: God Object 1080 —Å—Ç—Ä–æ–∫, –≤—ã—Å–æ–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

–ó–∞–¥–∞—á–∏:
1. –ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É
2. –û–ø—Ä–µ–¥–µ–ª–∏ responsibilities (–≥—Ä—É–ø–ø—ã –º–µ—Ç–æ–¥–æ–≤)
3. –ü—Ä–µ–¥–ª–æ–∂–∏ –∫–∞–∫ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –º–µ–Ω—å—à–∏–µ –∫–ª–∞—Å—Å—ã/—Å–µ—Ä–≤–∏—Å—ã
4. –°–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω split'–∞ —Å:
   - –ù–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∫–ª–∞—Å—Å–æ–≤
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –º–µ–∂–¥—É –Ω–∏–º–∏
   - –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
   - –û—Ü–µ–Ω–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ (effort)
5. –°–æ—Ö—Ä–∞–Ω–∏ –ø–ª–∞–Ω –≤: .agentic-planning/plan_architecture_analysis/FACADE_REFACTORING_PLAN.md
6. –û–±–Ω–æ–≤—å CONSOLIDATED_EXECUTION_PLAN.md - –¥–æ–±–∞–≤—å –¥–µ—Ç–∞–ª–∏ –≤ Phase 2 [Y2.1]

–ò—Å–ø–æ–ª—å–∑—É–π –∞–Ω–∞–ª–∏–∑ –∏–∑: .agentic-planning/plan_architecture_analysis/results/2.2_yandex_tracker_summary.md

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞ - –û–°–¢–ê–ù–û–í–ò–°–¨, –Ω–µ –Ω–∞—á–∏–Ω–∞–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** FACADE_REFACTORING_PLAN.md —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ø–ª–∞–Ω–æ–º

---

### –≠—Ç–∞–ø 1: Phase 1A - Infrastructure Extraction (SEQUENTIAL)

**–í—Ä–µ–º—è:** 6-8 —á–∞—Å–æ–≤
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** 1 –∞–≥–µ–Ω—Ç (–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏—Ö)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù—É–∂–µ–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –≠—Ç–∞–ø 0 (–ø–ª–∞–Ω Facade)

**–ü—Ä–æ–º–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**
```
–í—ã–ø–æ–ª–Ω–∏ Phase 1A –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∞: [F1.1] Extract Domain Code from Infrastructure

–®–∞–≥–∏ (—Å–º. –¥–µ—Ç–∞–ª–∏ –≤ –ø–ª–∞–Ω–µ):
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ yandex-tracker/src/config
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å domain-specific –∫–æ–¥ –∏–∑ infrastructure
3. –û–±–Ω–æ–≤–∏—Ç—å imports –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö yandex-tracker
4. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
5. –í–∞–ª–∏–¥–∞—Ü–∏—è: npm run validate:quiet

Success Criteria:
- No grep hits for "yandex|tracker|issue|queue" in infrastructure/src
- Infrastructure builds –±–µ–∑ domain code
- Yandex-tracker uses local config
- All tests pass

–í–ê–ñ–ù–û: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–∑–¥–∞–π –∫–æ–º–º–∏—Ç –∏ –ø—É—à. –≠—Ç–æ—Ç —ç—Ç–∞–ø —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç Phase 1B –∏ Phase 2!
```

**–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç:** Phase 1B (—á–∞—Å—Ç–∏—á–Ω–æ), Phase 2

---

### –≠—Ç–∞–ø 2: Phase 1B - Quick Wins (PARALLEL - 3 –∞–≥–µ–Ω—Ç–∞)

**–í—Ä–µ–º—è:** 7-12 —á–∞—Å–æ–≤ wall time (–µ—Å–ª–∏ 3 –∞–≥–µ–Ω—Ç–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏:** 3 –∞–≥–µ–Ω—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –°–†–ê–ó–£ –ø–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 1 (–∏–ª–∏ –¥–∞–∂–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

#### Agent 1: Yandex-Tracker Improvements

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ Phase 1B Group 1 (Yandex-Tracker) –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∏:
- [Y1.1] Check and Split Entity Factories (2-4h)
- [Y1.2] Create CLI BaseConnector (4-6h)
- [Y1.3] Add DI Registration Validation (1h)

–î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ —Å–º. –≤ CONSOLIDATED_EXECUTION_PLAN.md —Å–µ–∫—Ü–∏—è "Phase 1B - Group 1"

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
1. –í–∞–ª–∏–¥–∞—Ü–∏—è: npm run validate:quiet
2. –ö–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –ü—É—à

–í–ê–ñ–ù–û: –†–∞–±–æ—Ç–∞–π –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ: claude/phase1b-yandex-tracker-{session_id}
```

**–í—Ä–µ–º—è:** 7-11 —á–∞—Å–æ–≤

---

#### Agent 2: Test Coverage

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ Phase 1B Group 2 (Test Coverage) –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∏:
- [T1.1] ZodJsonSchemaAdapter Tests (2h) - 53% ‚Üí 95%
- [T1.2] ToolSearchEngine Tests (2h) - 71% ‚Üí 95%
- [T1.3] HttpClient Tests (1.5h) - 69% ‚Üí 90%
- [T1.4] Add Smoke Tests (2h) - 5 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- [T1.5] Logger Tests (1h) - 75% ‚Üí 90%
- [T1.6] Core Branches Coverage (0.5h) - 84.9% ‚Üí 85%+

–î–µ—Ç–∞–ª–∏ —Å–º. –≤ CONSOLIDATED_EXECUTION_PLAN.md —Å–µ–∫—Ü–∏—è "Phase 1B - Group 2"

–¶–µ–ª—å: Coverage 89% ‚Üí 95%+, Grade B+ ‚Üí A-

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ coverage: npm run test:coverage
2. –ö–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –ü—É—à

–í–ê–ñ–ù–û: –†–∞–±–æ—Ç–∞–π –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ: claude/phase1b-test-coverage-{session_id}
```

**–í—Ä–µ–º—è:** 9-10.5 —á–∞—Å–æ–≤

---

#### Agent 3: Code Quality

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ Phase 1B Group 3 (Code Quality) –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∏:
- [Q1.1] Type Safety Improvements (2-3h)
- [Q1.2] Extract Methods in createPinoLogger (2-3h)
- [Q1.3] Refactor setupServer (2-3h)
- [Q1.4] Schema Optimizations (1-2h)
- [Q1.5] Minor Fixes (0.5h)

–î–µ—Ç–∞–ª–∏ —Å–º. –≤ CONSOLIDATED_EXECUTION_PLAN.md —Å–µ–∫—Ü–∏—è "Phase 1B - Group 3"

–¶–µ–ª—å: Code Quality 4.3/5 ‚Üí 4.5/5

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
1. –í–∞–ª–∏–¥–∞—Ü–∏—è: npm run validate:quiet
2. –ö–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –ü—É—à

–í–ê–ñ–ù–û: –†–∞–±–æ—Ç–∞–π –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ: claude/phase1b-code-quality-{session_id}
```

**–í—Ä–µ–º—è:** 8-12 —á–∞—Å–æ–≤

---

### –≠—Ç–∞–ø 3: Merge Phase 1B –≤–µ—Ç–∫–∏

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —Ç—Ä–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ Phase 1B:**

**–ü—Ä–æ–º–ø—Ç –¥–ª—è –º–µ—Ä–¥–∂–∞:**
```
–°–º–µ—Ä–∂–∏ —Ç—Ä–∏ –≤–µ—Ç–∫–∏ Phase 1B –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- claude/phase1b-yandex-tracker-*
- claude/phase1b-test-coverage-*
- claude/phase1b-code-quality-*

–®–∞–≥–∏:
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ –≤–µ—Ç–∫–∏ –∑–∞–ø—É—à–µ–Ω—ã
2. –°–æ–∑–¥–∞–π –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É –¥–ª—è Phase 1B: claude/phase1b-complete-{session_id}
3. –ú–µ—Ä–∂–∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏ (–Ω–∞—á–Ω–∏ —Å test-coverage, –ø–æ—Ç–æ–º code-quality, –ø–æ—Ç–æ–º yandex-tracker)
4. –†–∞–∑—Ä–µ—à–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –µ—Å–ª–∏ –µ—Å—Ç—å
5. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ –º–µ—Ä–¥–∂–∞: npm run validate:quiet
6. –ü—É—à —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ç–∫–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –º–µ—Ä–¥–∂–∞ –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å Phase 2!
```

---

### –≠—Ç–∞–ø 4: Phase 2 - Architecture Foundation (SEQUENTIAL + Partial Parallel)

**–í—Ä–µ–º—è:** 15-25 —á–∞—Å–æ–≤ (—Å Facade —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º)
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏:** 1-2 –∞–≥–µ–Ω—Ç–∞ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 1A –∑–∞–≤–µ—Ä—à–µ–Ω–∞, Phase 1B —Å–º–µ—Ä–∂–µ–Ω–∞

#### –ü–æ–¥—ç—Ç–∞–ø 4.1: YandexTrackerFacade Refactoring (CRITICAL)

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ YandexTrackerFacade —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É:
.agentic-planning/plan_architecture_analysis/FACADE_REFACTORING_PLAN.md

–°–ª–µ–¥—É–π –¥–µ—Ç–∞–ª—å–Ω–æ–º—É –ø–ª–∞–Ω—É split'–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É –≤ –≠—Ç–∞–ø–µ 0.

–û–±—â–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã/—Å–µ—Ä–≤–∏—Å—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –º–µ—Ç–æ–¥—ã –∏–∑ Facade
3. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (DI bindings)
4. –û–±–Ω–æ–≤–∏—Ç—å Tools –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
5. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
6. –í–∞–ª–∏–¥–∞—Ü–∏—è: npm run validate:quiet

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –î–µ–ª–∞–π incremental commits (–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- –ù–µ —É–¥–∞–ª—è–π —Å—Ç–∞—Ä—ã–π Facade –¥–æ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –∫–æ–º–º–∏—Ç, –ø—É—à, –û–°–¢–ê–ù–û–í–ò–°–¨ –¥–ª—è review.
```

**–í—Ä–µ–º—è:** TBD (–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è –ø–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 0, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ 10-15 —á–∞—Å–æ–≤)

**–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç:** Y3.1, T3.1

---

#### –ü–æ–¥—ç—Ç–∞–ø 4.2: ToolRegistry Refactoring

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ [F2.1] ToolRegistry Refactoring –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–î–µ—Ç–∞–ª–∏ —Å–º. –≤ —Å–µ–∫—Ü–∏–∏ "Phase 2 - [F2.1]"

–¶–µ–ª—å: 549 —Å—Ç—Ä–æ–∫ ‚Üí 150-200 —Å—Ç—Ä–æ–∫, complexity 28 ‚Üí 12

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
packages/framework/core/src/tool-registry/
‚îú‚îÄ‚îÄ tool-registry.ts           (~150 lines)
‚îú‚îÄ‚îÄ tool-filter.service.ts     (~150 lines)
‚îú‚îÄ‚îÄ tool-sorter.ts             (~80 lines)
‚îú‚îÄ‚îÄ types.ts                   (~50 lines)
‚îî‚îÄ‚îÄ index.ts

–ó–ê–í–ò–°–ò–¢ –û–¢: Phase 1A ([F1.1] Infrastructure extraction)

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –∫–æ–º–º–∏—Ç, –ø—É—à.
```

**–í—Ä–µ–º—è:** 4-6 —á–∞—Å–æ–≤

---

#### –ü–æ–¥—ç—Ç–∞–ø 4.3: Other Phase 2 Tasks (Can parallel with 4.2)

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è Phase 2 –∑–∞–¥–∞—á–∏ (–º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å ToolRegistry):
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∏:
- [F2.2] Move generated-index to Yandex-Tracker (1-2h)
- [F2.3] Add HttpClient Interface (2-3h)

–î–µ—Ç–∞–ª–∏ —Å–º. –≤ CONSOLIDATED_EXECUTION_PLAN.md —Å–µ–∫—Ü–∏—è "Phase 2"

–≠—Ç–∏ –∑–∞–¥–∞—á–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –æ—Ç ToolRegistry, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –∫–æ–º–º–∏—Ç, –ø—É—à.
```

**–í—Ä–µ–º—è:** 3-5 —á–∞—Å–æ–≤

---

### –≠—Ç–∞–ø 5: Phase 3 - Post-Architecture Improvements

**–í—Ä–µ–º—è:** 3.5-5 —á–∞—Å–æ–≤
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏:** 1-2 –∞–≥–µ–Ω—Ç–∞ (–º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ Facade)

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ Phase 3 –∑–∞–¥–∞—á–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∏:
- [Y3.1] Entity Factories Review (1-2h) - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å–ª–µ Facade
- [T3.1] DI Container Integration Tests (2h) - –ø–æ—Å–ª–µ Facade
- [F3.1] DRY Text Utils (0.5h)
- [F3.2] Better LRU Cache (1-2h)

–î–µ—Ç–∞–ª–∏ —Å–º. –≤ —Å–µ–∫—Ü–∏–∏ "Phase 3"

–ó–ê–í–ò–°–ò–¢ –û–¢: Phase 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –æ—Å–æ–±–µ–Ω–Ω–æ [Y2.1] YandexTrackerFacade

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –∫–æ–º–º–∏—Ç, –ø—É—à.
```

---

### –≠—Ç–∞–ø 6: Phase 4 - Polish & Documentation (OPTIONAL)

**–í—Ä–µ–º—è:** 6 —á–∞—Å–æ–≤
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏:** 1 –∞–≥–µ–Ω—Ç
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–ü—Ä–æ–º–ø—Ç:**
```
–í—ã–ø–æ–ª–Ω–∏ Phase 4 –∑–∞–¥–∞—á–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞:
.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md

–ó–∞–¥–∞—á–∏:
- [T4.1] Optimize Test Code (3h)
- [T4.2] Performance Monitoring (2h)
- [T4.3] Test Documentation (1h)
- [DOC] Documentation Updates

–î–µ—Ç–∞–ª–∏ —Å–º. –≤ —Å–µ–∫—Ü–∏–∏ "Phase 4"

–≠—Ç–æ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –∫–æ–Ω—Ü–µ –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –µ—Å–ª–∏ –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏.

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –∫–æ–º–º–∏—Ç, –ø—É—à, –§–ò–ù–ê–õ!
```

---

## üìä Tracking Progress

**–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –æ–±–Ω–æ–≤–ª—è–π:**
- `.agentic-planning/plan_architecture_analysis/CONSOLIDATED_EXECUTION_PLAN.md` —Å–µ–∫—Ü–∏—è "Progress Tracking"
- –û—Ç–º–µ—á–∞–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ checkboxes

**–í–∞–∂–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã:**
- ‚úÖ –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 0 (–ø–ª–∞–Ω Facade) - review —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 1 (Infrastructure) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 3 (Merge Phase 1B) - review –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- ‚úÖ –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 4.1 (Facade) - critical review –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 6 (—Ñ–∏–Ω–∞–ª) - –∏—Ç–æ–≥–æ–≤—ã–π review

---

## üéØ Expected Timeline

| –≠—Ç–∞–ø | Wall Time | –ê–≥–µ–Ω—Ç—ã | –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –¥–Ω–∏ |
|------|-----------|--------|-----------------|
| –≠—Ç–∞–ø 0 (Facade plan) | 2-3h | 1 | 1 –¥–µ–Ω—å |
| –≠—Ç–∞–ø 1 (Infrastructure) | 6-8h | 1 | 1 –¥–µ–Ω—å |
| –≠—Ç–∞–ø 2 (Phase 1B parallel) | 11-12h | 3 | 1-2 –¥–Ω—è |
| –≠—Ç–∞–ø 3 (Merge) | 1-2h | 1 | 1 –¥–µ–Ω—å |
| –≠—Ç–∞–ø 4 (Phase 2) | 15-25h | 1-2 | 2-3 –¥–Ω—è |
| –≠—Ç–∞–ø 5 (Phase 3) | 3.5-5h | 1-2 | 1 –¥–µ–Ω—å |
| –≠—Ç–∞–ø 6 (Phase 4) | 6h | 1 | 1 –¥–µ–Ω—å |
| **–ò–¢–û–ì–û** | **45-63h** | - | **8-10 –¥–Ω–µ–π** |

**–° –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–µ–π:** 8-10 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π, ~45-63 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Branching strategy:**
   - –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `claude/phase*`
   - Phase 1B - —Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏, –ø–æ—Ç–æ–º –º–µ—Ä–∂–∞—Ç—Å—è
   - Phase 2+ - –º–æ–∂–Ω–æ –æ–¥–Ω–∞ –≤–µ—Ç–∫–∞ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ

2. **Coordination:**
   - Phase 1A –±–ª–æ–∫–∏—Ä—É–µ—Ç Phase 2
   - Phase 1B –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ (–º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å 1A –∏–ª–∏ –ø–æ—Å–ª–µ)
   - Facade –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ Phase 3 –∑–∞–¥–∞—á–∏

3. **Testing:**
   - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞: `npm run validate:quiet`
   - –ü–æ—Å–ª–µ Phase 1B: `npm run test:coverage`
   - –ü–æ—Å–ª–µ Phase 2: –ø–æ–ª–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è

4. **Communication:**
   - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ critical —ç—Ç–∞–ø–∞ - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
   - –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ Facade plan –∏ Facade execution

---

## üîó –°—Å—ã–ª–∫–∏

- **–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω:** [CONSOLIDATED_EXECUTION_PLAN.md](./CONSOLIDATED_EXECUTION_PLAN.md)
- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ—à–µ–Ω–∏—è–º:** [DECISION_GUIDE.md](./DECISION_GUIDE.md)
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:** [results/](./results/)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-21
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –≠—Ç–∞–ø 0 (Facade planning)
