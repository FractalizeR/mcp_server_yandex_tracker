# Phase 1.1: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ Framework –ø–∞–∫–µ—Ç–æ–≤

**–¶–µ–ª—å:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å infrastructure, core, search –≤ `packages/framework/`

**–í–µ—Ç–∫–∞:** `claude/migrate-framework-packages-{session-id}`

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 0.1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** 1.2, 1.3, 1.4

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã:** –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (—Ä–∞–±–æ—Ç–∞–µ–º –≤ packages/framework/, –¥—Ä—É–≥–∏–µ –≤–µ—Ç–∫–∏ —Ç–∞–º –Ω–µ —Ç—Ä–æ–≥–∞—é—Ç)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

### 1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É

```bash
git checkout main
git pull origin main
git checkout -b claude/migrate-framework-packages-{session-id}
```

### 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏ git)

- [x] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å infrastructure:
```bash
git mv packages/infrastructure packages/framework/infrastructure
```

- [x] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å core:
```bash
git mv packages/core packages/framework/core
```

- [x] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å search:
```bash
git mv packages/search packages/framework/search
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package.json –≤ –∫–∞–∂–¥–æ–º –ø–∞–∫–µ—Ç–µ

- [x] `packages/framework/infrastructure/package.json`:
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å name: `@mcp-framework/infrastructure` (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
  - ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç–∏ –≤ scripts –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (–æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω–æ)

- [x] `packages/framework/core/package.json`:
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å dependencies –Ω–∞ `@mcp-framework/infrastructure` (–¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è)
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç–∏ –≤ scripts

- [x] `packages/framework/search/package.json`:
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å dependencies –Ω–∞ `@mcp-framework/core`
  - ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç–∏ –∫ —Ç–µ—Å—Ç–∞–º –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tsconfig.json –≤ –ø–∞–∫–µ—Ç–∞—Ö

- [x] `packages/framework/infrastructure/tsconfig.json`:
  - –û–±–Ω–æ–≤–∏—Ç—å `extends`: `"../../tsconfig.base.json"` ‚Üí `"../tsconfig.base.json"`

- [x] `packages/framework/core/tsconfig.json`:
  - –¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è extends

- [x] `packages/framework/search/tsconfig.json`:
  - –¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è extends

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript project references

- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π tsconfig.json –Ω–∞ references –∫ —Å—Ç–∞—Ä—ã–º –ø—É—Ç—è–º:
```bash
grep -A 10 '"references"' tsconfig.json || echo "No references found"
```

- [x] –ï—Å–ª–∏ –µ—Å—Ç—å references, –æ–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç–∏:
  - `"path": "./packages/infrastructure"` ‚Üí `"path": "./packages/framework/infrastructure"`
  - `"path": "./packages/core"` ‚Üí `"path": "./packages/framework/core"`
  - `"path": "./packages/search"` ‚Üí `"path": "./packages/framework/search"`

### 6. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π

**–ü–æ–∏—Å–∫ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö:**

- [x] –ù–∞–π—Ç–∏ –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π –≤ framework –ø–∞–∫–µ—Ç–∞—Ö:
```bash
# Infrastructure
rg -g '!node_modules' -g '!dist' 'packages/infrastructure' packages/framework/infrastructure/ || echo "–ù–µ –Ω–∞–π–¥–µ–Ω–æ"

# Core
rg -g '!node_modules' -g '!dist' 'packages/core' packages/framework/core/ || echo "–ù–µ –Ω–∞–π–¥–µ–Ω–æ"

# Search
rg -g '!node_modules' -g '!dist' 'packages/search' packages/framework/search/ || echo "–ù–µ –Ω–∞–π–¥–µ–Ω–æ"
```

- [x] –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –Ω–æ–≤—ã–µ –ø—É—Ç–∏ –∏–ª–∏ npm package names (–æ–±–Ω–æ–≤–ª–µ–Ω—ã README —Ñ–∞–π–ª—ã)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**

- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å vitest/jest –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–∞ —Å—Ç–∞—Ä—ã–µ –ø—É—Ç–∏:
```bash
find packages/framework -name "vitest.config.*" -o -name "jest.config.*" | xargs grep -l "packages/" || echo "OK"
```

- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å tsup –∫–æ–Ω—Ñ–∏–≥–∏:
```bash
find packages/framework -name "tsup.config.*" | xargs grep -l "packages/" || echo "OK"
```

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤

- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ `import` statements –≤ framework –ø–∞–∫–µ—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç npm package names
- [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `@mcp-framework/*`, –∞ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏

### 8. –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

- [x] `npm install` (–ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–º–ª–∏–Ω–∫–∏ workspace)
- [x] `npm run build --workspace=@mcp-framework/infrastructure` ‚Äî —É—Å–ø–µ—à–Ω–æ
- [x] `npm run build --workspace=@mcp-framework/core` ‚Äî —É—Å–ø–µ—à–Ω–æ
- [x] `npm run build --workspace=@mcp-framework/search` ‚Äî —É—Å–ø–µ—à–Ω–æ
- [x] `npm run test --workspace=@mcp-framework/infrastructure` ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (200 passed)
- [x] `npm run test --workspace=@mcp-framework/core` ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (91 passed)
- [x] `npm run test --workspace=@mcp-framework/search` ‚Äî —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (135 passed)

### 9. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Ä–µ–≤—å–µ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

- [x] `npm run depcruise` ‚Äî –Ω–µ—Ç –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ (2 warnings, 0 errors)
- [x] –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω:
  ```
  infrastructure (0 deps)
      ‚Üì
  core (deps: infrastructure)
      ‚Üì
  search (deps: core)
  ```

---

## üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞

- ‚úÖ –ü–∞–∫–µ—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `packages/framework/`
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è git —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (`git mv`)

---

## üöÄ –ö–æ–º–º–∏—Ç –∏ –ø—É—à

```bash
git add packages/framework
git commit -m "refactor: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å framework –ø–∞–∫–µ—Ç—ã –≤ packages/framework/

- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å infrastructure, core, search
- –û–±–Ω–æ–≤–∏—Ç—å tsconfig extends –ø—É—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é git —á–µ—Ä–µ–∑ git mv

Ref: Phase 1.1 migration plan

ü§ñ Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"

git push -u origin claude/migrate-framework-packages-{session-id}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (–∫–æ–º–º–∏—Ç fb3dd77, –∑–∞–ø—É—à–µ–Ω–æ –≤ origin)
