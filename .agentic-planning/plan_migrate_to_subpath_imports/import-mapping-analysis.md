# –ê–Ω–∞–ª–∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Node.js Subpath Imports

**–î–∞—Ç–∞:** 2025-11-19
**–ü–∞–∫–µ—Ç:** @mcp-server/yandex-tracker
**–í–µ—Ä—Å–∏—è:** 2.0.0

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **–í—Å–µ–≥–æ TypeScript —Ñ–∞–π–ª–æ–≤:** 632
- **–í—Å–µ–≥–æ –∏–º–ø–æ—Ä—Ç–æ–≤ —Å @ –ø—Ä–µ—Ñ–∏–∫—Å–æ–º:** 1440
- **–ò–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:** ~971

---

## üìã –ú–∞–ø–ø–∏–Ω–≥ @ –∞–ª–∏–∞—Å–æ–≤ ‚Üí # –ø—Ä–µ—Ñ–∏–∫—Å—ã

### –í–Ω—É—Ç—Ä–∏–ø–∞–∫–µ—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã (–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å)

| –¢–µ–∫—É—â–∏–π –∞–ª–∏–∞—Å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ù–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–∫—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------------|-----------|---------------|------------|
| `@tracker_api/*` | 439 | `#tracker_api/*` | Tracker API —Å–ª–æ–π |
| `@integration/*` | 151 | `#integration/*` | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã |
| `@tools/*` | 144 | `#tools/*` | MCP Tools |
| `@constants` | 43 | `#constants` | –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ |
| `@helpers/*` | 26 | `#helpers/*` | –¢–µ—Å—Ç–æ–≤—ã–µ helpers |
| `@cli/*` | 12 | `#cli/*` | CLI –º–æ–¥—É–ª–∏ |
| `@composition-root/*` | 7 | `#composition-root/*` | DI Composition Root |

**–ò—Ç–æ–≥–æ @ –∞–ª–∏–∞—Å–æ–≤:** 822 –∏–º–ø–æ—Ä—Ç–∞

### –ú–µ–∂–¥—É–ø–∞–∫–µ—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã (–ù–ï —Ç—Ä–æ–≥–∞—Ç—å!)

| –ü—Ä–µ—Ñ–∏–∫—Å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|-----------|----------|
| `@mcp-framework/*` | 614 | ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å (–º–µ–∂–¥—É–ø–∞–∫–µ—Ç–Ω—ã–π) |
| `@modelcontextprotocol/*` | 3 | ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å (–≤–Ω–µ—à–Ω–∏–π npm –ø–∞–∫–µ—Ç) |
| `@iarna/*` | 1 | ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å (–≤–Ω–µ—à–Ω–∏–π npm –ø–∞–∫–µ—Ç) |

---

## üîÑ –ú–∞–ø–ø–∏–Ω–≥ –≥–ª—É–±–æ–∫–∏—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π ‚Üí # –ø—Ä–µ—Ñ–∏–∫—Å—ã

### –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã ‚â•3 —É—Ä–æ–≤–Ω—è (–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å)

| –ü–∞—Ç—Ç–µ—Ä–Ω | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ù–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–∫—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|-----------|---------------|------------|
| `../../../helpers/*` | ~55 | `#helpers/*` | –¢–µ—Å—Ç–æ–≤—ã–µ helpers (—Ä–∞–∑–Ω–∞—è –≥–ª—É–±–∏–Ω–∞: 3-7 —É—Ä–æ–≤–Ω–µ–π) |
| `../../../common/*` | ~41 | `#common/*` | –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (—Ä–∞–∑–Ω–∞—è –≥–ª—É–±–∏–Ω–∞: 3-5 —É—Ä–æ–≤–Ω–µ–π) |
| `../../../constants.js` | ~22 | `#constants` | –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ (—Ä–∞–∑–Ω–∞—è –≥–ª—É–±–∏–Ω–∞) |
| –î—Ä—É–≥–∏–µ | ~31 | –†–∞–∑–ª–∏—á–Ω—ã–µ | –°–º–µ—à–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã |

**–ò—Ç–æ–≥–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π:** 149 –∏–º–ø–æ—Ä—Ç–æ–≤

---

## üóÇÔ∏è –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è package.json

–î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é `"imports"`:

```json
{
  "imports": {
    "#tracker_api/*": "./src/tracker_api/*",
    "#tools/*": "./src/tools/*",
    "#composition-root/*": "./src/composition-root/*",
    "#cli/*": "./src/cli/*",
    "#constants": "./src/constants.ts",
    "#common/*": "./src/common/*",
    "#integration/*": "./tests/integration/*",
    "#helpers/*": "./tests/helpers/*"
  }
}
```

---

## üìù –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏)

### tsconfig.json paths (—É–¥–∞–ª–∏—Ç—å)

```json
{
  "compilerOptions": {
    "paths": {
      "@tracker_api/*": ["./src/tracker_api/*"],
      "@tools/*": ["./src/tools/*"],
      "@composition-root/*": ["./src/composition-root/*"],
      "@cli/*": ["./src/cli/*"]
    }
  }
}
```

### tsconfig.tests.json paths (—É–¥–∞–ª–∏—Ç—å)

```json
{
  "compilerOptions": {
    "paths": {
      "@tracker_api/*": ["./src/tracker_api/*"],
      "@tools/*": ["./src/tools/*"],
      "@composition-root/*": ["./src/composition-root/*"],
      "@cli/*": ["./src/cli/*"],
      "@constants": ["./src/constants.ts"],
      "@integration/*": ["./tests/integration/*"]
    }
  }
}
```

### vitest.config.ts resolve.alias (–æ—á–∏—Å—Ç–∏—Ç—å)

–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–µ–∂–¥—É–ø–∞–∫–µ—Ç–Ω—ã–µ –∞–ª–∏–∞—Å—ã –¥–ª—è framework packages:
```typescript
resolve: {
  alias: {
    // –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ framework packages (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–ª—è vitest)
    '@mcp-framework/search': path.resolve(__dirname, '../../framework/search/src'),
    '@mcp-framework/core': path.resolve(__dirname, '../../framework/core/src'),
    '@mcp-framework/infrastructure': path.resolve(__dirname, '../../framework/infrastructure/src'),
  }
}
```

---

## üéØ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∑–∞–º–µ–Ω—ã –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞

### 1. @ –∞–ª–∏–∞—Å—ã ‚Üí # –ø—Ä–µ—Ñ–∏–∫—Å—ã

```typescript
const ALIAS_PATTERNS = [
  {
    name: 'tracker_api',
    regex: /from ['"]@tracker_api\/([^'"]+)['"]/g,
    replacement: 'from \'#tracker_api/$1\'',
    count: 439,
  },
  {
    name: 'integration',
    regex: /from ['"]@integration\/([^'"]+)['"]/g,
    replacement: 'from \'#integration/$1\'',
    count: 151,
  },
  {
    name: 'tools',
    regex: /from ['"]@tools\/([^'"]+)['"]/g,
    replacement: 'from \'#tools/$1\'',
    count: 144,
  },
  {
    name: 'constants_alias',
    regex: /from ['"]@constants['"]/g,
    replacement: 'from \'#constants\'',
    count: 43,
  },
  {
    name: 'helpers',
    regex: /from ['"]@helpers\/([^'"]+)['"]/g,
    replacement: 'from \'#helpers/$1\'',
    count: 26,
  },
  {
    name: 'cli',
    regex: /from ['"]@cli\/([^'"]+)['"]/g,
    replacement: 'from \'#cli/$1\'',
    count: 12,
  },
  {
    name: 'composition-root',
    regex: /from ['"]@composition-root\/([^'"]+)['"]/g,
    replacement: 'from \'#composition-root/$1\'',
    count: 7,
  },
];
```

### 2. –ì–ª—É–±–æ–∫–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ ‚Üí # –ø—Ä–µ—Ñ–∏–∫—Å—ã

```typescript
const RELATIVE_PATTERNS = [
  {
    name: 'constants_relative',
    regex: /from ['"](?:\.\.\/){3,}constants\.js['"]/g,
    replacement: 'from \'#constants\'',
    count: 22,
  },
  {
    name: 'common_relative',
    regex: /from ['"](?:\.\.\/){3,}common\/([^'"]+)['"]/g,
    replacement: 'from \'#common/$1\'',
    count: 41,
  },
  {
    name: 'helpers_relative',
    regex: /from ['"](?:\.\.\/){3,}helpers\/([^'"]+)['"]/g,
    replacement: 'from \'#helpers/$1\'',
    count: 55,
  },
];
```

### 3. Dynamic imports (edge case)

```typescript
const DYNAMIC_PATTERNS = [
  {
    name: 'tracker_api_dynamic',
    regex: /import\(['"]@tracker_api\/([^'"]+)['"]\)/g,
    replacement: 'import(\'#tracker_api/$1\')',
  },
  {
    name: 'tools_dynamic',
    regex: /import\(['"]@tools\/([^'"]+)['"]\)/g,
    replacement: 'import(\'#tools/$1\')',
  },
];
```

### ‚ö†Ô∏è –ò—Å–∫–ª—é—á–µ–Ω–∏—è (–ù–ï –∑–∞–º–µ–Ω—è—Ç—å!)

```typescript
const EXCLUDED_PATTERNS = [
  /from ['"]@mcp-framework\//,         // –ú–µ–∂–¥—É–ø–∞–∫–µ—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
  /from ['"]@modelcontextprotocol\//,  // –í–Ω–µ—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
  /from ['"]@iarna\//,                 // –í–Ω–µ—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
  /from ['"]@anthropic-ai\//,          // –í–Ω–µ—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
];
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∑–∞–º–µ–Ω—ã

1. **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** –ü–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è TypeScript
2. **–†–µ–∑–æ–ª–≤–∏–Ω–≥:** –ò–º–ø–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ–∑–æ–ª–≤–∏—Ç—å—Å—è (—Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
3. **–¢–µ—Å—Ç—ã:** –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å
4. **–ú–µ–∂–¥—É–ø–∞–∫–µ—Ç–Ω—ã–µ:** `@mcp-framework/*` –ù–ï —Ç—Ä–æ–≥–∞—Ç—å

---

## üìà –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|-----------|
| @ –∞–ª–∏–∞—Å—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ | 822 |
| –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ ‚â•3 —É—Ä–æ–≤–Ω—è | 149 |
| **–í—Å–µ–≥–æ –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏** | **971** |
| –ú–µ–∂–¥—É–ø–∞–∫–µ—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã (–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å) | 618 |
| TypeScript —Ñ–∞–π–ª–æ–≤ | 632 |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω
2. ‚è≠Ô∏è –û–±–Ω–æ–≤–∏—Ç—å package.json (–¥–æ–±–∞–≤–∏—Ç—å "imports")
3. ‚è≠Ô∏è –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
4. ‚è≠Ô∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
5. ‚è≠Ô∏è –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
6. ‚è≠Ô∏è –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
7. ‚è≠Ô∏è –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
8. ‚è≠Ô∏è –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∫–æ–º–º–∏—Ç
