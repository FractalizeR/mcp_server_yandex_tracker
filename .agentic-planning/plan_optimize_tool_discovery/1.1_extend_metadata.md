# Этап 1.1: Расширение метаданных в Core Framework

**Цель:** Добавить поля category, subcategory, priority, tags в базовую систему типов

**Затронутые пакеты:** `@mcp-framework/core`

**Время:** 1-1.5 часа

---

## Чек-лист задач

### 1. Обновить `ToolMetadata` интерфейс

**Файл:** `packages/framework/core/src/tools/base/tool-metadata.ts`

- [x] Добавить поле `category: ToolCategory` (обязательное, уже было)
- [x] Добавить поле `subcategory?: string` (опциональное)
- [x] Добавить поле `priority?: ToolPriority` (опциональное, default: 'normal')
- [x] Добавить поле `tags?: readonly string[]` (опциональное, уже было)
- [x] Обновить JSDoc комментарии для новых полей

**Пример:**
```typescript
export interface ToolMetadata {
  name: string;
  description: string;
  inputSchema: JSONSchema;

  // Организация и категоризация
  category: string;              // "issues", "projects", "users"
  subcategory?: string;          // "read", "write", "workflow"
  priority?: 'critical' | 'high' | 'normal' | 'low';
  tags?: readonly string[];      // ["task", "create", "required"]
}
```

### 2. Обновить типы экспорта

**Файл:** `packages/framework/core/src/tools/base/index.ts`

- [x] Убедиться что `ToolMetadata` экспортируется
- [x] Добавить export для `ToolPriority` enum

### 3. Валидация в тестах

**Файл:** `packages/framework/core/tests/tools/base-definition.test.ts`

- [x] Добавить тест: metadata с обязательным `category`
- [x] Добавить тест: валидация `priority` enum
- [x] Добавить тест: `tags` readonly array
- [x] Добавить тест: опциональность `subcategory`

### 4. Типобезопасность

- [x] Запустить `npm run typecheck --workspace=@mcp-framework/core`
- [x] Исправить все TypeScript ошибки (не было ошибок)
- [x] Убедиться что обратная совместимость НЕ нарушена

---

## Ожидаемый результат

✅ Обновлённый `ToolMetadata` интерфейс с полями для категоризации
✅ Все типы корректно экспортируются
✅ Тесты покрывают новые поля
✅ TypeScript компилируется без ошибок

---

## Следующий этап

→ **1.2_update_tool_registry.md** — добавить сортировку по priority в ToolRegistry
