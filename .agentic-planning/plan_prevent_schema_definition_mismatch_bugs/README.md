# –ü–ª–∞–Ω: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–∞–≥–æ–≤ Schema-Definition Mismatch

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-20
**–°—Ç–∞—Ç—É—Å:** –°–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

---

## üéØ –¶–µ–ª—å –ø–ª–∞–Ω–∞

–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –±–∞–≥–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö Zod —Å—Ö–µ–º–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –æ–±—ä—è–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fields`), –Ω–æ MCP definition –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `inputSchema.properties`.

**–ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- 4 –∏–∑ 33 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (12%) –∏–º–µ–ª–∏ –±–∞–≥ schema-definition mismatch
- –í—Å–µ –±–∞–≥–∏ –±—ã–ª–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ `queues`
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ unit –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–µ –≤—ã—è–≤–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É
- –ë–∞–≥ –¥–µ–ª–∞–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–Ω–∞

### –≠—Ç–∞–ø 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (Sequential)
- `0.1_analyze_current_state_sequential.md` ‚Äî –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –≠—Ç–∞–ø 1: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞—â–∏—Ç—ã (Parallel)
–í—Å–µ —à–∞–≥–∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–∫–∞—Ö —Ä–∞–∑–Ω—ã–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏:
- `1.1_create_validation_tests_parallel.md` ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
- `1.2_create_precommit_hooks_parallel.md` ‚Äî Pre-commit —Ö—É–∫–∏ –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
- `1.3_create_tool_templates_parallel.md` ‚Äî –®–∞–±–ª–æ–Ω—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `1.4_update_documentation_parallel.md` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —á–µ–∫–ª–∏—Å—Ç–æ–≤

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Sequential)
- `2.1_integrate_and_validate_sequential.md` ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –≠—Ç–∞–ø 3: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (Sequential)
- `3.1_architectural_refactoring_optional_sequential.md` ‚Äî DRY-–ø–æ–¥—Ö–æ–¥ –∫ schema-definition (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –≠—Ç–∞–ø | –í—Ä–µ–º—è (—á–∞—Å—ã) | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å |
|------|--------------|----------------|
| 0. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | 0.5 | Sequential |
| 1.1 Validation tests | 2-3 | Parallel |
| 1.2 Pre-commit hooks | 1-2 | Parallel |
| 1.3 Templates | 1-2 | Parallel |
| 1.4 Documentation | 1 | Parallel |
| 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | 1 | Sequential |
| **–ò—Ç–æ–≥–æ (–±–µ–∑ —ç—Ç–∞–ø–∞ 3):** | **6.5-9.5 —á–∞—Å–æ–≤** | |
| 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (optional) | 4-8 | Sequential |

**–ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —ç—Ç–∞–ø–∞ 1 (4 –∞–≥–µ–Ω—Ç–∞):** ~3-4 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 5-9

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [ ] –°–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—è–≤–ª—è–µ—Ç schema-definition mismatch
- [ ] –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `npm run validate`
- [ ] Pre-commit —Ö—É–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç—ã —Å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º–∏
- [ ] –î–æ—Å—Ç—É–ø–µ–Ω —à–∞–±–ª–æ–Ω/–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å —á–µ–∫–ª–∏—Å—Ç–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
- [ ] –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ü–ª–∞–Ω —É–¥–∞–ª–µ–Ω –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üìù –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –î–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–∏–º –∞–≥–µ–Ω—Ç–æ–º:
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∞–ø 0
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∞–ø—ã 1.1 ‚Üí 1.2 ‚Üí 1.3 ‚Üí 1.4 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∞–ø 2
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –í—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∞–ø 3

### –î–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
1. –û–¥–∏–Ω –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–∞–ø 0
2. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 0, –∑–∞–ø—É—Å—Ç–∏—Ç—å **4 –∞–≥–µ–Ω—Ç–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**:
   - –ê–≥–µ–Ω—Ç A: —ç—Ç–∞–ø 1.1
   - –ê–≥–µ–Ω—Ç B: —ç—Ç–∞–ø 1.2
   - –ê–≥–µ–Ω—Ç C: —ç—Ç–∞–ø 1.3
   - –ê–≥–µ–Ω—Ç D: —ç—Ç–∞–ø 1.4
3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á ‚Äî –æ–¥–∏–Ω –∞–≥–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç–∞–ø 2
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≠—Ç–∞–ø 3

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (`npm run validate`)
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ ‚Äî –∫–æ–º–º–∏—Ç –∏ –ø—É—à
- –ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —ç—Ç–∞–ø—É 2 –ø–æ–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã –í–°–ï –∑–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞ 1
- –≠—Ç–∞–ø 3 (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω, –æ–±—Å—É–¥–∏—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ–≥–æ –ø–ª–∞–Ω–∞ ‚Äî —É–¥–∞–ª–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–ª–∞–Ω–∞

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- –ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç: [–ö–æ–º–º–∏—Ç de41f2c](../../../packages/servers/yandex-tracker/)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [CLAUDE.md](../../CLAUDE.md)
- –¢–µ—Å—Ç—ã: `packages/servers/yandex-tracker/tests/tools/`
