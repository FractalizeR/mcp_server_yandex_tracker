# –≠—Ç–∞–ø 3.1: Post-Architecture Improvements (PARALLEL)

**–í—Ä–µ–º—è:** 3.5-5 —á–∞—Å–æ–≤
**–¢–∏–ø:** PARALLEL
**–í–µ—Ç–∫–∞:** `claude/execution-3.1-post-arch-{session_id}`
**Depends on:** –≠—Ç–∞–ø 2 (–æ—Å–æ–±–µ–Ω–Ω–æ 2.1 Facade)

## üéØ –¶–µ–ª—å

DI tests, Entity review, text utils, LRU

## üìã –ó–∞–¥–∞—á–∏

### Task 1: DI Container Tests (2—á) ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- [x] All tokens resolve
- [x] No circular dependencies
- [x] Singletons work
- [x] Lifecycle management
- [x] 20 tests added (14 Facade Services + 5 singleton scope + 1 no circular deps)

### Task 2: Entity Factories Review (1-2—á) ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ Facade —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- [x] Entity factories —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (27/27 tests passed)
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

### Task 3: Text Utils DRY (30–º–∏–Ω) ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- [x] Created packages/framework/search/src/utils/text-utils.ts
- [x] Extracted tokenize() and getShortDescription()
- [x] Updated tool-search-engine.ts to use new utils
- [x] Updated description-search.strategy.ts to use new utils
- [x] All tests pass (147/147 in @mcp-framework/search)

### Task 4: Better LRU Cache (1-2—á) ‚è≠Ô∏è –ü–†–û–ü–£–©–ï–ù–û
- [ ] Implement true LRU
- [ ] Update tests
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–ø—É—â–µ–Ω –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏. –¢–µ–∫—É—â–∏–π LRU (MAX_CACHE_SIZE=100) —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è MVP.

## ‚úÖ Success Criteria
- [x] Tasks 1-3 completed (Task 4 skipped)
- [x] Tests pass (2521 tests passed, validate:quiet successful)
- [x] –ö–æ–º–º–∏—Ç –∏ –ø—É—à (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
