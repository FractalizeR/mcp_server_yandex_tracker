# 2.1 Checklists API - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ `fields` (Parallel)

**–¢–∏–ø:** Parallel (–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å 2.2-2.8)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ tools:** 3 (delete_checklist_item –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç void)

---

## –°–ø–∏—Å–æ–∫ tools –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. `add_checklist_item` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —á–µ–∫–ª–∏—Å—Ç–∞ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ChecklistItem)
2. `get_checklist` - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ChecklistItem[])
3. `update_checklist_item` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ChecklistItem)

**–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- `delete_checklist_item` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç void

---

## 1. add_checklist_item

### Schema: `src/tools/api/checklists/add/add-checklist-item.schema.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
export const AddChecklistItemParamsSchema = z.object({
  issueId: z.string(),
  text: z.string(),
  checked: z.boolean().optional(),
  assignee: z.string().optional(),
  deadline: z.string().optional(),
});
```

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```typescript
import { FieldsSchema } from '../../../../common/schemas/index.js';

export const AddChecklistItemParamsSchema = z.object({
  issueId: z.string(),
  text: z.string(),
  checked: z.boolean().optional(),
  assignee: z.string().optional(),
  deadline: z.string().optional(),

  /**
   * –ú–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
   * –ü—Ä–∏–º–µ—Ä—ã: ['id', 'text', 'checked'], ['id', 'text', 'assignee.login']
   */
  fields: FieldsSchema,
});
```

### Tool: `src/tools/api/checklists/add/add-checklist-item.tool.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `ResponseFieldFilter`:
```typescript
import { ResponseFieldFilter } from '@mcp-framework/core';
```

2. –ò–∑–≤–ª–µ—á—å `fields` –∏–∑ validated params:
```typescript
const { fields, ...checklistParams } = validation.data;
```

3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º:
```typescript
const item = await this.facade.addChecklistItem(issueId, checklistParams);

const filtered = ResponseFieldFilter.filter<ChecklistItemWithUnknownFields>(item, fields);

return this.formatSuccess({
  item: filtered,
  fieldsReturned: fields,
});
```

### Definition: `src/tools/api/checklists/add/add-checklist-item.definition.ts`

**–û–±–Ω–æ–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ:**
```typescript
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- issueId: ID –∑–∞–¥–∞—á–∏
- text: –¢–µ–∫—Å—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ —á–µ–∫–ª–∏—Å—Ç–∞
- checked: –°—Ç–∞—Ç—É—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- assignee: –õ–æ–≥–∏–Ω –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- deadline: –î–µ–¥–ª–∞–π–Ω –≤ ISO 8601 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- fields: –ú–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: ['id', 'text', 'checked'])
```

### –¢–µ—Å—Ç—ã

**–û–±–Ω–æ–≤–∏—Ç—å:** `tests/tools/api/checklists/add-checklist-item.test.ts`

–î–æ–±–∞–≤–∏—Ç—å `fields: ['id', 'text']` –≤–æ –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã.

---

## 2. get_checklist

### Schema: `src/tools/api/checklists/get/get-checklist.schema.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
export const GetChecklistParamsSchema = z.object({
  issueId: z.string(),
});
```

**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
```typescript
import { FieldsSchema } from '../../../../common/schemas/index.js';

export const GetChecklistParamsSchema = z.object({
  issueId: z.string(),

  /**
   * –ú–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
   */
  fields: FieldsSchema,
});
```

### Tool: `src/tools/api/checklists/get/get-checklist.tool.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `ResponseFieldFilter`
2. –ò–∑–≤–ª–µ—á—å `fields`:
```typescript
const { issueId, fields } = validation.data;
```

3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –º–∞—Å—Å–∏–≤–∞:
```typescript
const items = await this.facade.getChecklist(issueId);

const filtered = items.map(item =>
  ResponseFieldFilter.filter<ChecklistItemWithUnknownFields>(item, fields)
);

return this.formatSuccess({
  items: filtered,
  count: filtered.length,
  fieldsReturned: fields,
});
```

### –¢–µ—Å—Ç—ã

–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã, –¥–æ–±–∞–≤–∏–≤ `fields`.

---

## 3. update_checklist_item

### Schema: `src/tools/api/checklists/update/update-checklist-item.schema.ts`

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `add_checklist_item`** - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π `fields: FieldsSchema`

### Tool: `src/tools/api/checklists/update/update-checklist-item.tool.ts`

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `add_checklist_item`** - –∏–∑–≤–ª–µ—á—å `fields`, –ø—Ä–∏–º–µ–Ω–∏—Ç—å `ResponseFieldFilter.filter()`

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] –í—Å–µ 3 schema —Ñ–∞–π–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã (–¥–æ–±–∞–≤–ª–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π `fields`)
- [ ] –í—Å–µ 3 tool —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `ResponseFieldFilter`
- [ ] –í—Å–µ 3 definition —Ñ–∞–π–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] `npm run typecheck` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `npm run test:quiet --workspace=@mcp-server/yandex-tracker` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] `npm run lint:quiet --workspace=@mcp-server/yandex-tracker` –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## –ö–æ–º–º–∏—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç:

```bash
git add packages/servers/yandex-tracker/src/tools/api/checklists/
git add packages/servers/yandex-tracker/tests/tools/api/checklists/

git commit -m "feat(checklists): –¥–æ–±–∞–≤–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä fields –≤–æ –≤—Å–µ Checklists tools

–î–µ—Ç–∞–ª–∏:
- add_checklist_item: –¥–æ–±–∞–≤–ª–µ–Ω fields, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ResponseFieldFilter
- get_checklist: –¥–æ–±–∞–≤–ª–µ–Ω fields, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- update_checklist_item: –¥–æ–±–∞–≤–ª–µ–Ω fields, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ResponseFieldFilter
- –û–±–Ω–æ–≤–ª–µ–Ω—ã definition –∏ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö tools
- –≠–∫–æ–Ω–æ–º–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ MCP –¥–æ 80-90% –∑–∞ —Å—á–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª–µ–π

ü§ñ Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"
```

---

## –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –∫–æ–º–º–∏—Ç–∞, –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.
